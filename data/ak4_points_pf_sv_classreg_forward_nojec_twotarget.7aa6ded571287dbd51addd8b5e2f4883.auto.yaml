treename: null
selection: (np.abs(jet_eta)>2.5) & (np.abs(jet_eta)<4.7) & (jet_pt_raw>=15) & (jet_pt_raw<=1000)
  & (event%7!=0) & (jet_genmatch_pt>0) & (jet_muflav == 0) & (jet_elflav == 0) & (jet_tauflav==0)
  & ~((np.abs(jet_pflav)==5) & (jet_hflav==0)) & ~((np.abs(jet_pflav)==4) & (jet_hflav==0))
test_time_selection: (np.abs(jet_eta)>2.5) & (np.abs(jet_eta)<4.7) & (jet_pt_raw>=15)
  & (jet_pt_raw<=1000) & (event%7==0) & (jet_genmatch_pt>0) & (jet_muflav == 0) &
  (jet_elflav == 0) & (jet_tauflav==0) & ~((np.abs(jet_pflav)==5) & (jet_hflav==0))
  & ~((np.abs(jet_pflav)==4) & (jet_hflav==0))
preprocess:
  method: manual
  data_fraction: null
  params: null
new_variables:
  pfcand_mask: ak.ones_like(jet_pfcand_deta)
  sv_mask: ak.ones_like(jet_sv_deta)
  lt_mask: ak.ones_like(jet_losttrack_deta)
  label_mu: (jet_muflav==1) & (jet_elflav==0) & (jet_tauflav==0)
  label_el: (jet_muflav==0) & (jet_elflav==1) & (jet_tauflav==0)
  label_tau: (jet_muflav==0) & (jet_elflav==0) & (jet_tauflav==1)
  label_b: (jet_muflav==0) & (jet_elflav==0) & (jet_tauflav==0) & (jet_hflav==4)
  label_uds: (jet_muflav==0) & (jet_elflav==0) & (jet_tauflav==0) & (jet_hflav==0)
    & (np.abs(jet_pflav)>=0) & (np.abs(jet_pflav)<4)
  label_g: (jet_muflav==0) & (jet_elflav==0) & (jet_tauflav==0) & (jet_hflav==0) &
    (np.abs(jet_pflav)==21)
  label_q: (jet_muflav==0) & (jet_elflav==0) & (jet_tauflav==0) & ((jet_hflav==5)
    | (jet_hflav==4) | ((jet_hflav==0) & (np.abs(jet_pflav)>=0) & (np.abs(jet_pflav)<4)))
  _label_: np.argmax(np.stack([label_q,label_g], axis=1), axis=1)
  _labelcheck_: np.sum(np.stack([label_q,label_g], axis=1), axis=1)
  target_pt: np.clip(((label_q) | (label_g))*np.nan_to_num(jet_genmatch_pt/jet_pt_raw,nan=0,posinf=0,neginf=0),0.2,2.5)
  target_pt_q16: np.clip(((label_q) | (label_g))*np.nan_to_num(jet_genmatch_pt/jet_pt_raw,nan=0,posinf=0,neginf=0),0.2,2.5)
  target_pt_q84: np.clip(((label_q) | (label_g))*np.nan_to_num(jet_genmatch_pt/jet_pt_raw,nan=0,posinf=0,neginf=0),0.2,2.5)
  target_pt_nu: np.clip(((label_q) | (label_g))*np.nan_to_num(jet_genmatch_wnu_pt/jet_genmatch_pt,nan=0,posinf=0,neginf=0),0.9,2)
inputs:
  pf_points:
    length: 35
    vars:
    - - jet_pfcand_deta
      - null
    - - jet_pfcand_dphi
      - null
  pf_features:
    length: 35
    vars:
    - - jet_pfcand_pt_log
      - 1
      - 0.5
    - - jet_pfcand_energy_log
      - 1
      - 0.5
    - - jet_pfcand_eta
      - 0
      - 0.8
    - - jet_pfcand_deta
      - null
    - - jet_pfcand_dphi
      - null
    - - jet_pfcand_charge
      - null
    - - jet_pfcand_frompv
      - 2
      - 1
    - - jet_pfcand_nlostinnerhits
      - null
    - - jet_pfcand_track_chi2
      - 1
      - 0.2
    - - jet_pfcand_track_qual
      - 0
      - 0.2
    - - jet_pfcand_dz
      - 0
      - 0.1
      - -10
      - 10
    - - jet_pfcand_dzsig
      - 0
      - 0.01
    - - jet_pfcand_dxy
      - 0
      - 0.25
      - -25
      - 25
    - - jet_pfcand_dxysig
      - 0.01
    - - jet_pfcand_etarel
      - 1.5
      - 0.5
    - - jet_pfcand_pperp_ratio
      - 0
      - 1
    - - jet_pfcand_ppara_ratio
      - 0
      - 1
    - - jet_pfcand_trackjet_d3d
      - 0
      - 0.1
    - - jet_pfcand_trackjet_d3dsig
      - 0
      - 0.005
    - - jet_pfcand_trackjet_dist
      - 0
      - 0.1
    - - jet_pfcand_trackjet_decayL
      - 0
      - 0.01
    - - jet_pfcand_npixhits
      - 0
      - 0.1
    - - jet_pfcand_nstriphits
      - 0
      - 0.1
    - - jet_pfcand_id
      - 3
      - 0.2
    - - jet_pfcand_hcalfraction
      - 0
      - 1
      - 0
      - 1
    - - jet_pfcand_calofraction
      - 0
      - 1
      - 0
      - 5
    - - jet_pfcand_muon_isglobal
      - 0
      - 1
    - - jet_pfcand_muon_chi2
      - 0
      - 1
    - - jet_pfcand_muon_segcomp
      - 0
      - 1
    - - jet_pfcand_muon_nvalidhit
      - 0
      - 1
    - - jet_pfcand_muon_nstation
      - 0
      - 1
    - - jet_pfcand_electron_detaIn
      - 0
      - 25
    - - jet_pfcand_electron_dphiIn
      - 0
      - 25
    - - jet_pfcand_electron_sigIetaIeta
      - 0.002
      - 50
    - - jet_pfcand_electron_sigIphiIphi
      - 0.001
      - 100
    - - jet_pfcand_electron_r9
      - 0
      - 1
      - 0
      - 1
    - - jet_pfcand_electron_convProb
      - null
    - - jet_pfcand_photon_sigIetaIeta
      - 0.002
      - 50
    - - jet_pfcand_photon_r9
      - 0
      - 1
      - 0
      - 1
    - - jet_pfcand_photon_eVeto
      - null
  pf_mask:
    length: 35
    vars:
    - - pfcand_mask
      - null
  sv_points:
    length: 5
    vars:
    - - jet_sv_deta
      - null
    - - jet_sv_dphi
      - null
  sv_features:
    length: 5
    vars:
    - - jet_sv_pt_log
      - 3
      - 0.6
    - - jet_sv_mass
      - 1.2
      - 0.3
    - - jet_sv_deta
      - null
    - - jet_sv_dphi
      - null
    - - jet_sv_ntrack
      - 3
      - 1
    - - jet_sv_chi2
      - 1
      - 0.5
    - - jet_sv_dxy
      - 0.2
      - 0.25
    - - jet_sv_dxysig
      - 7
      - 0.02
    - - jet_sv_d3d
      - 0.5
      - 0.2
    - - jet_sv_d3dsig
      - 7
      - 0.02
  sv_mask:
    length: 5
    vars:
    - - sv_mask
      - null
  lt_points:
    length: 5
    vars:
    - - jet_losttrack_deta
      - null
    - - jet_losttrack_dphi
      - null
  lt_features:
    length: 5
    vars:
    - - jet_losttrack_pt_log
      - 1
      - 0.5
    - - jet_losttrack_eta
      - 0
      - 0.8
    - - jet_losttrack_deta
      - null
    - - jet_losttrack_dphi
      - null
    - - jet_losttrack_charge
      - null
    - - jet_losttrack_frompv
      - 2
      - 1
    - - jet_losttrack_track_chi2
      - 1
      - 0.2
    - - jet_losttrack_track_qual
      - 0
      - 0.2
    - - jet_losttrack_dz
      - 0
      - 0.1
      - -10
      - 10
    - - jet_losttrack_dzsig
      - 0
      - 0.01
    - - jet_losttrack_dxy
      - 0
      - 0.25
      - -25
      - 25
    - - jet_losttrack_dxysig
      - 0.01
    - - jet_losttrack_etarel
      - 1.5
      - 0.5
    - - jet_losttrack_trackjet_d3d
      - 0
      - 0.1
    - - jet_losttrack_trackjet_d3dsig
      - 0
      - 0.005
    - - jet_losttrack_trackjet_dist
      - 0
      - 0.1
    - - jet_losttrack_trackjet_decayL
      - 0
      - 0.01
    - - jet_losttrack_npixhits
      - 0
      - 0.1
    - - jet_losttrack_nstriphits
      - 0
      - 0.1
  lt_mask:
    length: 5
    vars:
    - - lt_mask
      - null
labels:
  type: simple
  value:
  - label_q
  - label_g
targets:
  type: custom
  value:
    target_pt: np.clip(((label_q) | (label_g))*np.nan_to_num(jet_genmatch_pt/jet_pt_raw,nan=0,posinf=0,neginf=0),0.2,2.5)
    target_pt_q16: np.clip(((label_q) | (label_g))*np.nan_to_num(jet_genmatch_pt/jet_pt_raw,nan=0,posinf=0,neginf=0),0.2,2.5)
    target_pt_q84: np.clip(((label_q) | (label_g))*np.nan_to_num(jet_genmatch_pt/jet_pt_raw,nan=0,posinf=0,neginf=0),0.2,2.5)
    target_pt_nu: np.clip(((label_q) | (label_g))*np.nan_to_num(jet_genmatch_wnu_pt/jet_genmatch_pt,nan=0,posinf=0,neginf=0),0.9,2)
  quantile:
  - -1
  - 0.16
  - 0.84
  - -1
labels_domain: {}
observers:
- event
- rho
- npv
- wgt
- met
- npu
- sample
- jet_pt
- jet_pt_raw
- jet_eta
- jet_phi
- jet_mass
- jet_ncand
- jet_hflav
- jet_pflav
- jet_muflav
- jet_elflav
- jet_tauflav
- jet_lepflav
- jet_genmatch_pt
- jet_genmatch_eta
- jet_genmatch_phi
- jet_genmatch_mass
- jet_genmatch_wnu_pt
- jet_genmatch_wnu_eta
- jet_genmatch_wnu_phi
- jet_genmatch_wnu_mass
- jet_genmatch_lep_pt
- jet_genmatch_lep_eta
- jet_genmatch_lep_phi
- jet_genmatch_lep_mass
- jet_genmatch_lep_vis_pt
- jet_genmatch_lep_vis_eta
- jet_genmatch_lep_vis_phi
- jet_genmatch_lep_vis_mass
- jet_pnet_probb
- jet_pnet_probc
- jet_pnet_probuds
- jet_pnet_probg
monitor_variables: []
weights:
  use_precomputed_weights: false
  reweight_method: flat
  reweight_vars:
    jet_pt_raw:
    - 15
    - 20
    - 25
    - 30
    - 35
    - 42
    - 51
    - 63
    - 82
    - 105
    - 135
    - 1000
    jet_eta:
    - -4.7
    - -3.6
    - -3.1
    - -2.95
    - -2.7
    - 2.7
    - 2.95
    - 3.1
    - 3.6
    - 4.7
  reweight_classes:
  - label_q
  - label_g
  class_weights:
  - 1.0
  - 2.0
  reweight_threshold: 15
  reweight_hists:
    label_q:
    - - 0.026808936148881912
      - 0.05627065896987915
      - 0.29994574189186096
      - 0.07994293421506882
      - 0.035453323274850845
      - 0.08004450798034668
      - 0.29994574189186096
      - 0.05646761134266853
      - 0.026891738176345825
    - - 0.021227698773145676
      - 0.04434146359562874
      - 0.29994574189186096
      - 0.0783490240573883
      - 0.037711575627326965
      - 0.07964808493852615
      - 0.29994574189186096
      - 0.044284675270318985
      - 0.021237626671791077
    - - 0.024470211938023567
      - 0.04988639056682587
      - 0.29994574189186096
      - 0.09188179671764374
      - 0.04640701785683632
      - 0.09363222122192383
      - 0.29994574189186096
      - 0.04974786564707756
      - 0.024401037022471428
    - - 0.03164929524064064
      - 0.06014399603009224
      - 0.29994574189186096
      - 0.10863729566335678
      - 0.0566370002925396
      - 0.11051061004400253
      - 0.29994574189186096
      - 0.05994083732366562
      - 0.031575821340084076
    - - 0.030694754794239998
      - 0.052862413227558136
      - 0.29994574189186096
      - 0.09203479439020157
      - 0.04912806302309036
      - 0.09390795230865479
      - 0.29994574189186096
      - 0.052761755883693695
      - 0.030645301565527916
    - - 0.03457498922944069
      - 0.05214521288871765
      - 0.2992222309112549
      - 0.0875076875090599
      - 0.047570861876010895
      - 0.0887455940246582
      - 0.29994574189186096
      - 0.05183805525302887
      - 0.03448918089270592
    - - 0.03975432366132736
      - 0.0510491319000721
      - 0.2741760313510895
      - 0.08342933654785156
      - 0.04617564380168915
      - 0.0846719816327095
      - 0.275674432516098
      - 0.05078544467687607
      - 0.03969356417655945
    - - 0.045445896685123444
      - 0.04646306484937668
      - 0.23114809393882751
      - 0.07237035781145096
      - 0.040605779737234116
      - 0.0731479674577713
      - 0.23081375658512115
      - 0.04632466286420822
      - 0.045333463698625565
    - - 0.08073043078184128
      - 0.060473740100860596
      - 0.27670490741729736
      - 0.08836772292852402
      - 0.0490366593003273
      - 0.08906379342079163
      - 0.2774912714958191
      - 0.06029963865876198
      - 0.08044537156820297
    - - 0.15812881290912628
      - 0.08027797937393188
      - 0.29994574189186096
      - 0.1064971461892128
      - 0.05646318197250366
      - 0.10711103677749634
      - 0.29994574189186096
      - 0.08003294467926025
      - 0.15773409605026245
    - - 0.29994574189186096
      - 0.0693826749920845
      - 0.21039412915706635
      - 0.05674372985959053
      - 0.021727966144680977
      - 0.05719466507434845
      - 0.21120136976242065
      - 0.06933083385229111
      - 0.29994574189186096
    label_g:
    - - 0.038523320108652115
      - 0.05106464773416519
      - 0.4278024435043335
      - 0.07052928954362869
      - 0.026677154004573822
      - 0.07127515226602554
      - 0.42869672179222107
      - 0.05134667083621025
      - 0.03864710405468941
    - - 0.033325888216495514
      - 0.045982733368873596
      - 0.39533984661102295
      - 0.07881132513284683
      - 0.031520143151283264
      - 0.08076786994934082
      - 0.4000147879123688
      - 0.045957207679748535
      - 0.033315759152173996
    - - 0.04544515907764435
      - 0.06129453703761101
      - 0.48040562868118286
      - 0.10995788127183914
      - 0.04456593468785286
      - 0.11325199156999588
      - 0.48924747109413147
      - 0.061163805425167084
      - 0.045325640588998795
    - - 0.07376266270875931
      - 0.08981651812791824
      - 0.6277661919593811
      - 0.1560707986354828
      - 0.06300408393144608
      - 0.1608508825302124
      - 0.6400673985481262
      - 0.08989403396844864
      - 0.07365275919437408
    - - 0.09570873528718948
      - 0.09942028671503067
      - 0.6165639162063599
      - 0.16107508540153503
      - 0.06487224251031876
      - 0.1662953794002533
      - 0.6255024671554565
      - 0.09927313029766083
      - 0.095243439078331
    - - 0.151697039604187
      - 0.12894268333911896
      - 0.7062557339668274
      - 0.1895800232887268
      - 0.07600951194763184
      - 0.1957639455795288
      - 0.7154198288917542
      - 0.12858285009860992
      - 0.15082216262817383
    - - 0.2470163106918335
      - 0.16894833743572235
      - 0.8278209567070007
      - 0.22330155968666077
      - 0.08922304958105087
      - 0.22856873273849487
      - 0.8318310976028442
      - 0.1680416613817215
      - 0.24647381901741028
    - - 0.39802080392837524
      - 0.20625543594360352
      - 0.8999175429344177
      - 0.2367062270641327
      - 0.09355134516954422
      - 0.24064961075782776
      - 0.8999999761581421
      - 0.2060045301914215
      - 0.39893805980682373
    - - 0.8999999761581421
      - 0.35821789503097534
      - 0.8999999761581421
      - 0.35672807693481445
      - 0.1363425850868225
      - 0.36311107873916626
      - 0.8999999761581421
      - 0.35685309767723083
      - 0.8999999761581421
    - - 0.8999999761581421
      - 0.6299628615379333
      - 0.8999999761581421
      - 0.5371715426445007
      - 0.1920481026172638
      - 0.5447094440460205
      - 0.8999999761581421
      - 0.6288048028945923
      - 0.8999999761581421
    - - 0.8999999761581421
      - 0.8999999761581421
      - 0.8999999761581421
      - 0.5066118240356445
      - 0.138695627450943
      - 0.5106657147407532
      - 0.8999999761581421
      - 0.8999999761581421
      - 0.8999999761581421
