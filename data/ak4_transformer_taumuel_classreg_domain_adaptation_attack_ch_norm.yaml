selection: (np.abs(jet_eta)<2.5) & (jet_pt_raw>=15) & (jet_pt_raw<=3000) & (((domain<0)
  & (event%7!=0) & (jet_genmatch_pt>0) & (jet_lepflav<=1) & ~((jet_muflav==0) & (jet_elflav==0)
  & (jet_tauflav==0) & (np.abs(jet_pflav)==0) & (jet_hflav==0)) & ~((jet_muflav==0)
  & (jet_elflav==0) & (jet_tauflav==0) & (np.abs(jet_pflav)==4) & (jet_hflav==0))
  & ~((jet_muflav==0) & (jet_elflav==0) & (jet_tauflav==0) & (np.abs(jet_pflav)==5)
  & (jet_hflav==0)) & ~((jet_tauflav==1) & (jet_taudecaymode<0)) & ~((jet_tauflav==1)
  & (jet_taudecaymode>2) & (jet_taudecaymode<10)) & ~((jet_tauflav==1) & (jet_taudecaymode>11)))
  | ((domain>=0) & (event%5!=0)))
test_time_selection: (np.abs(jet_eta)<2.5) & (jet_pt_raw>=15) & (jet_pt_raw<=3000)
  & (((domain<0) & (event%7==0) & (jet_genmatch_pt>0) & (jet_lepflav<=1) & ~((jet_muflav==0)
  & (jet_elflav==0) & (jet_tauflav==0) & (np.abs(jet_pflav)==0) & (jet_hflav==0))
  & ~((jet_muflav==0) & (jet_elflav==0) & (jet_tauflav==0) & (np.abs(jet_pflav)==4)
  & (jet_hflav==0)) & ~((jet_muflav==0) & (jet_elflav==0) & (jet_tauflav==0) & (np.abs(jet_pflav)==5)
  & (jet_hflav==0)) & ~((jet_tauflav==1) & (jet_taudecaymode<0)) & ~((jet_tauflav==1)
  & (jet_taudecaymode>2) & (jet_taudecaymode<10)) & ~((jet_tauflav==1) & (jet_taudecaymode>11)))
  | ((domain>=0) & (event%5==0)))
new_variables:
  pfcand_ch_mask: ak.ones_like(jet_pfcand_ch_pt)
  pfcand_neu_mask: ak.ones_like(jet_pfcand_neu_pt)
  sv_mask: ak.ones_like(jet_sv_pt)
  k_mask: ak.ones_like(jet_kaon_pt)
  l_mask: ak.ones_like(jet_lambda_pt)
  lt_mask: ak.ones_like(jet_losttrack_deta)
  jet_pfcand_ch_p4: _p4_from_ptetaphie(jet_pfcand_ch_pt,jet_pfcand_ch_eta,jet_pfcand_ch_phi,jet_pfcand_ch_energy)
  jet_pfcand_ch_px: jet_pfcand_ch_p4.px
  jet_pfcand_ch_py: jet_pfcand_ch_p4.py
  jet_pfcand_ch_pz: jet_pfcand_ch_p4.pz
  jet_pfcand_neu_p4: _p4_from_ptetaphie(jet_pfcand_neu_pt,jet_pfcand_neu_eta,jet_pfcand_neu_phi,jet_pfcand_neu_energy)
  jet_pfcand_neu_px: jet_pfcand_neu_p4.px
  jet_pfcand_neu_py: jet_pfcand_neu_p4.py
  jet_pfcand_neu_pz: jet_pfcand_neu_p4.pz
  jet_sv_p4: _p4_from_ptetaphie(jet_sv_pt,jet_sv_eta,jet_sv_phi,jet_sv_energy)
  jet_sv_px: jet_sv_p4.px
  jet_sv_py: jet_sv_p4.py
  jet_sv_pz: jet_sv_p4.pz
  jet_kaon_p4: _p4_from_ptetaphie(jet_kaon_pt,jet_kaon_eta,jet_kaon_phi,jet_kaon_energy)
  jet_kaon_px: jet_kaon_p4.px
  jet_kaon_py: jet_kaon_p4.py
  jet_kaon_pz: jet_kaon_p4.pz
  jet_lambda_p4: _p4_from_ptetaphie(jet_lambda_pt,jet_lambda_eta,jet_lambda_phi,jet_lambda_energy)
  jet_lambda_px: jet_lambda_p4.px
  jet_lambda_py: jet_lambda_p4.py
  jet_lambda_pz: jet_lambda_p4.pz
  jet_losttrack_p4: _p4_from_ptetaphie(jet_losttrack_pt,jet_losttrack_eta,jet_losttrack_phi,jet_losttrack_energy)
  jet_losttrack_px: jet_losttrack_p4.px
  jet_losttrack_py: jet_losttrack_p4.py
  jet_losttrack_pz: jet_losttrack_p4.pz
  label_mc_zll: (domain>=0) & (domain<=1) & (isdata==0)
  label_data_zll: (domain>=0) & (domain<=1) & (isdata==1)
  label_mc_emu: (domain==2) & (isdata==0)
  label_data_emu: (domain==2) & (isdata==1)
  label_mc_mut: (domain==3) & (isdata==0)
  label_data_mut: (domain==3) & (isdata==1)
  label_mc_dijet: (domain==5) & (isdata==0)
  label_data_dijet: (domain==5) & (isdata==1)
  label_mc_ttcharm: (domain==6) & (isdata==0)
  label_data_ttcharm: (domain==6) & (isdata==1)
  label_mu: (jet_muflav==1) & (jet_elflav==0) & (jet_tauflav==0) & (domain<0)
  label_el: (jet_muflav==0) & (jet_elflav==1) & (jet_tauflav==0) & (domain<0)
  label_taup_1h0p: (jet_muflav==0) & (jet_elflav==0) & (jet_tauflav==1) & (jet_taudecaymode==0)
    & (jet_taucharge>0) & (domain<0)
  label_taup_1h1p: (jet_muflav==0) & (jet_elflav==0) & (jet_tauflav==1) & (jet_taudecaymode==1)
    & (jet_taucharge>0) & (domain<0)
  label_taup_1h2p: (jet_muflav==0) & (jet_elflav==0) & (jet_tauflav==1) & (jet_taudecaymode==2)
    & (jet_taucharge>0) & (domain<0)
  label_taup_3h0p: (jet_muflav==0) & (jet_elflav==0) & (jet_tauflav==1) & (jet_taudecaymode==10)
    & (jet_taucharge>0) & (domain<0)
  label_taup_3h1p: (jet_muflav==0) & (jet_elflav==0) & (jet_tauflav==1) & (jet_taudecaymode==11)
    & (jet_taucharge>0) & (domain<0)
  label_taum_1h0p: (jet_muflav==0) & (jet_elflav==0) & (jet_tauflav==1) & (jet_taudecaymode==0)
    & (jet_taucharge<0) & (domain<0)
  label_taum_1h1p: (jet_muflav==0) & (jet_elflav==0) & (jet_tauflav==1) & (jet_taudecaymode==1)
    & (jet_taucharge<0) & (domain<0)
  label_taum_1h2p: (jet_muflav==0) & (jet_elflav==0) & (jet_tauflav==1) & (jet_taudecaymode==2)
    & (jet_taucharge<0) & (domain<0)
  label_taum_3h0p: (jet_muflav==0) & (jet_elflav==0) & (jet_tauflav==1) & (jet_taudecaymode==10)
    & (jet_taucharge<0) & (domain<0)
  label_taum_3h1p: (jet_muflav==0) & (jet_elflav==0) & (jet_tauflav==1) & (jet_taudecaymode==11)
    & (jet_taucharge<0) & (domain<0)
  label_b: (jet_muflav==0) & (jet_elflav==0) & (jet_tauflav==0) & (jet_hflav==5) &
    (domain<0)
  label_c: (jet_muflav==0) & (jet_elflav==0) & (jet_tauflav==0) & (jet_hflav==4) &
    (domain<0)
  label_uds: (jet_muflav==0) & (jet_elflav==0) & (jet_tauflav==0) & (jet_hflav==0)
    & (np.abs(jet_pflav)>=0) & (np.abs(jet_pflav)<4) & (domain<0)
  label_g: (jet_muflav==0) & (jet_elflav==0) & (jet_tauflav==0) & (jet_hflav==0) &
    (np.abs(jet_pflav)==21) & (domain<0)
preprocess:
  method: manual
  data_fraction: null
inputs:
  pf_ch_features:
    length: 26
    pad_mode: wrap
    vars:
    - - jet_pfcand_ch_pt_log
      - 0.35086016080325694
      - 0.7681555816971036
      - -3.0
      - 6.0
    - - jet_pfcand_ch_energy_log
      - 0.9877546988400472
      - 0.7449224166629033
      - -3.0
      - 6.0
    - - jet_pfcand_ch_eta
      - 0.000230380996137968
      - 0.7468918442457076
      - -3.0
      - 3.0
    - - jet_pfcand_ch_deta
      - 1.0435819369193396e-05
      - 5.895148492832228
      - -7.0
      - 7.0
    - - jet_pfcand_ch_dphi
      - -0.00029596554803992586
      - 6.148255296904392
      - -5.0
      - 5.0
    - - jet_pfcand_ch_ptrel
      - 0.3322389011211129
      - 2.7779892324954014
      - -2.0
      - 9.0
    - - jet_pfcand_ch_etarel
      - 2.8713834107269816
      - 0.9500609885702582
      - -3.0
      - 8.0
    - - jet_pfcand_ch_pperp
      - 0.15053080130450655
      - 3.650262855153023
      - -2.0
      - 9.0
    - - jet_pfcand_ch_ppara
      - 0.9879428771186258
      - 60.22084050562266
      - -9.0
      - 2.0
    - - jet_pfcand_ch_id
      - 1.9539461278458523
      - 3.6558071576939826
      - -8.0
      - 1.0
    - - jet_pfcand_ch_charge
      - 0.037187581346609176
      - 1.0006921727833493
      - -2.0
      - 2.0
    - - jet_pfcand_ch_frompv
      - 1.950986934497111
      - 1.1145726003161716
      - -3.0
      - 2.0
    - - jet_pfcand_ch_dz
      - -0.005601414517906645
      - 0.1593690619597091
      - -9.0
      - 9.0
    - - jet_pfcand_ch_dzsig
      - -0.2351392504320222
      - 0.004749364577895443
      - -7.0
      - 7.0
    - - jet_pfcand_ch_dxy
      - -0.016193013053132192
      - 0.5129151645490535
      - -9.0
      - 9.0
    - - jet_pfcand_ch_dxysig
      - -0.24487083925109449
      - 0.050288877278865454
      - -7.0
      - 7.0
    - - jet_pfcand_ch_hcalfraction
      - 0.4183740975029187
      - 2.3172816590986707
      - -5.0
      - 3.0
    - - jet_pfcand_ch_calofraction
      - 0.5862577253639066
      - 1.8714147268609267
      - -2.0
      - 5.0
    - - jet_pfcand_ch_track_chi2
      - 0.7787409308428336
      - 0.3367146531783309
      - -1.0
      - 9.0
    - - jet_pfcand_ch_track_qual
      - 3.808470723047548
      - 0.46986912583656354
      - -3.0
      - 2.0
    - - jet_pfcand_ch_track_pterr
      - 0.016867869987528726
      - 28.767489290946255
      - -1.0
      - 9.0
    - - jet_pfcand_ch_track_etaerr
      - 0.002079574188230051
      - 240.23480504053362
      - -1.0
      - 9.0
    - - jet_pfcand_ch_track_phierr
      - 0.0021232736958276275
      - 296.79432189619405
      - -2.0
      - 9.0
    - - jet_pfcand_ch_trackjet_sip2d
      - 0.13114140243118155
      - 0.6060367234330006
      - -9.0
      - 9.0
    - - jet_pfcand_ch_trackjet_sip2dsig
      - 2.2955117240259524
      - 0.05128969256715099
      - -7.0
      - 7.0
    - - jet_pfcand_ch_trackjet_sip3d
      - 0.22858737356138362
      - 0.3122412768733291
      - -9.0
      - 9.0
    - - jet_pfcand_ch_trackjet_sip3dsig
      - 3.46199012036082
      - 0.006766322599799728
      - -7.0
      - 7.0
    - - jet_pfcand_ch_trackjet_dist
      - 0.5926621027029029
      - 0.481730568737312
      - -1.0
      - 9.0
    - - jet_pfcand_ch_trackjet_decayL
      - 2.3754616901332577
      - 0.060366469533643996
      - -9.0
      - 9.0
    - - jet_pfcand_ch_nhits
      - 11.203553291192812
      - 0.1245534256119845
      - -2.0
      - 6.0
    - - jet_pfcand_ch_npixhits
      - 2.5822693087686046
      - 0.49092853748908755
      - -2.0
      - 6.0
    - - jet_pfcand_ch_npixbarrelhits
      - 2.3211900966845027
      - 0.4972749613206642
      - -2.0
      - 5.0
    - - jet_pfcand_ch_nstriphits
      - 8.621283982424208
      - 0.14674783351274934
      - -2.0
      - 6.0
    - - jet_pfcand_ch_nstriptibhits
      - 7.187045830760449
      - 0.17661669576424344
      - -2.0
      - 6.0
    - - jet_pfcand_ch_nstriptobhits
      - 1.2934386075845046
      - 0.5961875107729033
      - -2.0
      - 9.0
    - - jet_pfcand_ch_nlosthits
      - -0.4551139438713247
      - 1.0205411916342015
      - -2.0
      - 4.0
    - - jet_pfcand_ch_nlayers
      - 7.893174643693353
      - 0.1839597396433744
      - -2.0
      - 4.0
    - - jet_pfcand_ch_npixlayers
      - 2.3718207999845053
      - 0.5632562723261605
      - -2.0
      - 3.0
    - - jet_pfcand_ch_nstriplayers
      - 5.521353843708848
      - 0.23030226872683143
      - -2.0
      - 4.0
    - - jet_pfcand_ch_tau_signal
      - 0.10832451016096152
      - 3.2176086228939385
      - -1.0
      - 4.0
    - - jet_pfcand_ch_muon_id
      - 0.7593794487236577
      - 0.19450195363919667
      - -1.0
      - 7.0
    - - jet_pfcand_ch_muon_chi2
      - 5.958542438958268
      - 0.009824525271431002
      - -1.0
      - 7.0
    - - jet_pfcand_ch_muon_segcomp
      - 0.012517318926317897
      - 11.670526456703596
      - -1.0
      - 7.0
    - - jet_pfcand_ch_muon_type
      - 0.08626323513165975
      - 1.746684504305733
      - -1.0
      - 7.0
    - - jet_pfcand_ch_muon_nvalidhits
      - 0.31033384208975084
      - 0.4570567601767364
      - -1.0
      - 7.0
    - - jet_pfcand_ch_muon_nstations
      - 0.040891041965887595
      - 3.705914709924074
      - -1.0
      - 7.0
    - - jet_pfcand_ch_electron_detaIn
      - -1.0025624332620952e-06
      - 782.9336440088119
      - -7.0
      - 7.0
    - - jet_pfcand_ch_electron_dphiIn
      - -4.947045002879091e-06
      - 255.907859408326
      - -7.0
      - 7.0
    - - jet_pfcand_ch_electron_sigIetaIeta
      - 0.00026211837857802796
      - 589.1790475260349
      - -1.0
      - 7.0
    - - jet_pfcand_ch_electron_sigIphiIphi
      - 0.00034111278045185264
      - 456.97448724812335
      - -1.0
      - 7.0
    - - jet_pfcand_ch_electron_r9
      - 0.013631297355898249
      - 9.890530837681007
      - -1.0
      - 7.0
    - - jet_pfcand_ch_electron_convProb
      - -0.01449545176255128
      - 9.495777870200603
      - -7.0
      - 7.0
  pf_ch_vectors:
    length: 26
    pad_mode: wrap
    vars:
    - - jet_pfcand_ch_px
      - null
    - - jet_pfcand_ch_py
      - null
    - - jet_pfcand_ch_pz
      - null
    - - jet_pfcand_ch_energy
      - null
  pf_ch_mask:
    length: 26
    vars:
    - - pfcand_ch_mask
      - null
  pf_neu_features:
    length: 26
    pad_mode: wrap
    vars:
    - - jet_pfcand_neu_pt_log
      - -0.137938816836385
      - 0.8758506489832077
      - -3.0
      - 7.0
    - - jet_pfcand_neu_energy_log
      - 0.3275915591286672
      - 0.8161167859818859
      - -3.0
      - 7.0
    - - jet_pfcand_neu_eta
      - 0.007792275972792399
      - 0.9042228622195568
      - -4.0
      - 4.0
    - - jet_pfcand_neu_deta
      - 8.941880401738792e-05
      - 6.112757516185049
      - -5.0
      - 5.0
    - - jet_pfcand_neu_dphi
      - 0.00014388318497199806
      - 5.7808991854444205
      - -5.0
      - 4.0
    - - jet_pfcand_neu_ptrel
      - 0.252495821267244
      - 3.067095405933538
      - -2.0
      - 9.0
    - - jet_pfcand_neu_etarel
      - 2.425507309638154
      - 1.152709834806101
      - -3.0
      - 9.0
    - - jet_pfcand_neu_pperp
      - 0.2081685253160091
      - 4.190620491857301
      - -2.0
      - 9.0
    - - jet_pfcand_neu_ppara
      - 0.9857143440787796
      - 62.131846737294524
      - -9.0
      - 2.0
    - - jet_pfcand_neu_id
      - 0.16313588420105601
      - 2.706378316359328
      - -1.0
      - 9.0
    - - jet_pfcand_neu_frompv
      - 2.9994011659387647
      - 175.36616213901087
      - -9.0
      - 1.0
    - - jet_pfcand_neu_dz
      - -2.7367391458115105e-06
      - 214.83258816063116
      - -7.0
      - 7.0
    - - jet_pfcand_neu_dxy
      - 1.2989781674634518e-06
      - 817.4227919485479
      - -7.0
      - 7.0
    - - jet_pfcand_neu_hcalfraction
      - 0.16313158801735272
      - 2.7064684730701374
      - -1.0
      - 3.0
    - - jet_pfcand_neu_calofraction
      - 0.45303911706266425
      - 2.0133589200678808
      - -2.0
      - 2.0
    - - jet_pfcand_neu_tau_signal
      - 0.0786133296895781
      - 3.7156169910154273
      - -1.0
      - 4.0
    - - jet_pfcand_neu_photon_sigIetaIeta
      - 0.0007780321247307054
      - 270.7789604571524
      - -1.0
      - 7.0
    - - jet_pfcand_neu_photon_r9
      - 0.028993615318804886
      - 7.036302609347353
      - -1.0
      - 9.0
    - - jet_pfcand_neu_photon_eVeto
      - 0.03368586539407005
      - 5.54264390755639
      - -1.0
      - 6.0
  pf_neu_vectors:
    length: 26
    pad_mode: wrap
    vars:
    - - jet_pfcand_neu_px
      - null
    - - jet_pfcand_neu_py
      - null
    - - jet_pfcand_neu_pz
      - null
    - - jet_pfcand_neu_energy
      - null
  pf_neu_mask:
    length: 26
    vars:
    - - pfcand_neu_mask
      - null
  sv_features:
    length: 6
    vars:
    - - jet_sv_pt_log
      - 2.629419348523609
      - 1.102726994976095
      - -4.0
      - 6.0
    - - jet_sv_energy_log
      - 3.211405940655706
      - 1.009891212939231
      - -4.0
      - 6.0
    - - jet_sv_eta
      - -0.009286564802844045
      - 0.7871888579483575
      - -3.0
      - 3.0
    - - jet_sv_mass
      - 1.3574714770858491
      - 0.9490035174686129
      - -2.0
      - 9.0
    - - jet_sv_deta
      - 1.3296425292765585e-05
      - 12.058314520005782
      - -6.0
      - 6.0
    - - jet_sv_dphi
      - 0.00022989310108449356
      - 11.838151015477695
      - -6.0
      - 6.0
    - - jet_sv_ntrack
      - 2.948758658805187
      - 0.7945975098525496
      - -2.0
      - 9.0
    - - jet_sv_chi2
      - 0.9777357648024708
      - 0.03246441810693437
      - -9.0
      - 9.0
    - - jet_sv_dxy
      - 0.7110629959895651
      - 0.6816873208268275
      - -1.0
      - 9.0
    - - jet_sv_dxysig
      - 19.64729399053056
      - 0.027742812370887784
      - -1.0
      - 7.0
    - - jet_sv_d3d
      - 1.3146807087472905
      - 0.34023434124559687
      - -1.0
      - 9.0
    - - jet_sv_d3dsig
      - 19.681239622251
      - 0.027702870331154546
      - -1.0
      - 7.0
    - - jet_sv_d3d_sign
      - 0.518954460712113
      - 1.1698616234087706
      - -3.0
      - 2.0
    - - jet_sv_costheta
      - 0.9677557833439312
      - 4.279096737139169
      - -9.0
      - 1.0
  sv_vectors:
    length: 6
    pad_mode: wrap
    vars:
    - - jet_sv_px
      - null
    - - jet_sv_py
      - null
    - - jet_sv_pz
      - null
    - - jet_sv_energy
      - null
  sv_mask:
    length: 6
    vars:
    - - sv_mask
      - null
  k_features:
    length: 6
    vars:
    - - jet_kaon_pt_log
      - 1.4904537874695725
      - 1.1257841239309412
      - -3.0
      - 6.0
    - - jet_kaon_energy_log
      - 2.0269099663633208
      - 1.055246425492121
      - -3.0
      - 7.0
    - - jet_kaon_eta
      - -0.006965517154257613
      - 0.8262681175612556
      - -3.0
      - 3.0
    - - jet_kaon_mass
      - 0.49801740664331984
      - 36.33267567600286
      - -4.0
      - 4.0
    - - jet_kaon_deta
      - -0.00011366651036212771
      - 7.648561995817195
      - -4.0
      - 4.0
    - - jet_kaon_dphi
      - 0.00010802586258232638
      - 7.813756013689686
      - -4.0
      - 4.0
    - - jet_kaon_chi2
      - 1.0213393894056935
      - 0.7283834358399173
      - -2.0
      - 5.0
    - - jet_kaon_dxy
      - 6.9835471478380455
      - 0.10517318420560183
      - -2.0
      - 8.0
    - - jet_kaon_dxysig
      - 173.1014472511225
      - 0.0036874337068999352
      - -2.0
      - 7.0
    - - jet_kaon_d3d
      - 13.616314799173177
      - 0.04902143520568819
      - -2.0
      - 9.0
    - - jet_kaon_d3dsig
      - 209.68567932512818
      - 0.0029604558072871797
      - -2.0
      - 7.0
    - - jet_kaon_d3d_sign
      - 0.6766193568092986
      - 1.3580808435117702
      - -3.0
      - 1.0
    - - jet_kaon_costheta
      - 0.9452038310327912
      - 4.429503752369417
      - -9.0
      - 1.0
  k_vectors:
    length: 6
    pad_mode: wrap
    vars:
    - - jet_kaon_px
      - null
    - - jet_kaon_py
      - null
    - - jet_kaon_pz
      - null
    - - jet_kaon_energy
      - null
  k_mask:
    length: 6
    vars:
    - - k_mask
      - null
  l_features:
    length: 6
    vars:
    - - jet_lambda_pt_log
      - 1.7077915809105082
      - 1.2510239754470673
      - -3.0
      - 7.0
    - - jet_lambda_energy_log
      - 2.306615197691019
      - 1.1973507741589282
      - -3.0
      - 7.0
    - - jet_lambda_eta
      - -0.004597015938647669
      - 0.783085427246035
      - -3.0
      - 3.0
    - - jet_lambda_mass
      - 1.1277429349535757
      - 46.61056708367657
      - -3.0
      - 3.0
    - - jet_lambda_deta
      - -0.00022153545230596094
      - 9.083148618527263
      - -5.0
      - 5.0
    - - jet_lambda_dphi
      - 0.00020483779891517455
      - 9.300808908776274
      - -5.0
      - 5.0
    - - jet_lambda_chi2
      - 0.992833350341289
      - 0.715494848350708
      - -2.0
      - 5.0
    - - jet_lambda_dxy
      - 8.530395425646477
      - 0.08950290206132916
      - -2.0
      - 6.0
    - - jet_lambda_dxysig
      - 112.07159556892714
      - 0.005475466585298784
      - -2.0
      - 7.0
    - - jet_lambda_d3d
      - 16.951585055052323
      - 0.04226555002181668
      - -2.0
      - 9.0
    - - jet_lambda_d3dsig
      - 125.13180557405914
      - 0.004683263930317516
      - -2.0
      - 7.0
    - - jet_lambda_d3d_sign
      - 0.7526244860470905
      - 1.518717149626723
      - -4.0
      - 1.0
    - - jet_lambda_costheta
      - 0.9756999690796464
      - 7.361657068478582
      - -9.0
      - 1.0
  l_vectors:
    length: 6
    pad_mode: wrap
    vars:
    - - jet_lambda_px
      - null
    - - jet_lambda_py
      - null
    - - jet_lambda_pz
      - null
    - - jet_lambda_energy
      - null
  l_mask:
    length: 6
    vars:
    - - lambda_mask
      - null
  lt_features:
    length: 6
    vars:
    - - jet_losttrack_pt_log
      - 1.5801657581601338
      - 0.9475111658402632
      - -2.0
      - 9.0
    - - jet_losttrack_energy_log
      - 2.4591352957762087
      - 0.8977193763255688
      - -3.0
      - 9.0
    - - jet_losttrack_eta
      - 0.005764496494994069
      - 0.6222421412302217
      - -3.0
      - 3.0
    - - jet_losttrack_deta
      - 0.00015606931299641608
      - 14.267538140189153
      - -4.0
      - 4.0
    - - jet_losttrack_dphi
      - -0.000521690045258424
      - 12.021722652297216
      - -3.0
      - 3.0
    - - jet_losttrack_ptrel
      - 1.0519049143800463
      - 0.16218512874746605
      - -1.0
      - 9.0
    - - jet_losttrack_etarel
      - 4.003264619220871
      - 1.1675317882159757
      - -3.0
      - 9.0
    - - jet_losttrack_charge
      - 0.013021159420374066
      - 1.0000846408019644
      - -2.0
      - 2.0
    - - jet_losttrack_frompv
      - 1.5631312258262824
      - 1.3907061037075574
      - -3.0
      - 3.0
    - - jet_losttrack_dz
      - 0.020893582070008333
      - 0.15121026072739882
      - -9.0
      - 9.0
    - - jet_losttrack_dzsig
      - 1.0378746811150392
      - 0.01411367905777787
      - -7.0
      - 7.0
    - - jet_losttrack_dxy
      - 0.0006060738461778492
      - 0.5495753698827746
      - -9.0
      - 9.0
    - - jet_losttrack_dxysig
      - -0.3245280670321601
      - 0.02444393980979214
      - -7.0
      - 7.0
    - - jet_losttrack_track_chi2
      - 1.196425173292489
      - 0.44633570527608146
      - -1.0
      - 9.0
    - - jet_losttrack_track_qual
      - 3.3068129027984496
      - 0.5059892333124596
      - -2.0
      - 2.0
    - - jet_losttrack_track_pterr
      - 3865.8542236766784
      - 1.3711129908039373e-05
      - -1.0
      - 9.0
    - - jet_losttrack_track_etaerr
      - 0.004761138446147333
      - 77.34060146424171
      - -1.0
      - 9.0
    - - jet_losttrack_track_phierr
      - 0.0027976873757074427
      - 291.50796407740216
      - -1.0
      - 9.0
    - - jet_losttrack_trackjet_sip2d
      - 0.44795012096297865
      - 0.5689051220686733
      - -9.0
      - 9.0
    - - jet_losttrack_trackjet_sip2dsig
      - 8.006544064938668
      - 0.0231028145872271
      - -7.0
      - 7.0
    - - jet_losttrack_trackjet_sip3d
      - 0.9247215932985656
      - 0.28996473139042095
      - -9.0
      - 9.0
    - - jet_losttrack_trackjet_sip3dsig
      - 19.391842636920813
      - 0.004927688513859136
      - -7.0
      - 7.0
    - - jet_losttrack_trackjet_dist
      - 0.852188958610062
      - 0.488574171272767
      - -1.0
      - 9.0
    - - jet_losttrack_trackjet_decayL
      - 19.32951182935683
      - 0.0184726046477984
      - -9.0
      - 9.0
    - - jet_losttrack_nhits
      - 11.215896337404885
      - 0.19020584351239486
      - -3.0
      - 6.0
    - - jet_losttrack_npixhits
      - 2.484365398968569
      - 0.6151366583693676
      - -2.0
      - 6.0
    - - jet_losttrack_npixbarrelhits
      - 2.4540819572732584
      - 0.6389761183699745
      - -2.0
      - 6.0
    - - jet_losttrack_nstriphits
      - 8.731530938436316
      - 0.18212952289022863
      - -3.0
      - 5.0
    - - jet_losttrack_nstriptibhits
      - 7.773195220355065
      - 0.22599878365712583
      - -3.0
      - 4.0
    - - jet_losttrack_nstriptobhits
      - 0.9583345559705905
      - 0.6969370514656059
      - -2.0
      - 5.0
    - - jet_losttrack_nlayers
      - 8.11656667188648
      - 0.30652241416525705
      - -3.0
      - 4.0
    - - jet_losttrack_npixlayers
      - 2.2740181399663513
      - 0.7702306567590279
      - -2.0
      - 3.0
    - - jet_losttrack_nstriplayers
      - 5.842548531920129
      - 0.27751356407300753
      - -3.0
      - 3.0
  lt_vectors:
    length: 6
    pad_mode: wrap
    vars:
    - - jet_losttrack_px
      - null
    - - jet_losttrack_py
      - null
    - - jet_losttrack_pz
      - null
    - - jet_losttrack_energy
      - null
  lt_mask:
    length: 6
    vars:
    - - lt_mask
      - null
labels:
  type: simple
  value:
  - label_mu
  - label_el
  - label_taup_1h0p
  - label_taup_1h1p
  - label_taup_1h2p
  - label_taup_3h0p
  - label_taup_3h1p
  - label_taum_1h0p
  - label_taum_1h1p
  - label_taum_1h2p
  - label_taum_3h0p
  - label_taum_3h1p
  - label_b
  - label_c
  - label_uds
  - label_g
labels_domain:
  type: custom
  value:
    label_domain_zll:
    - label_data_zll
    - label_mc_zll
    label_domain_emu:
    - label_data_emu
    - label_mc_emu
    label_domain_mut:
    - label_data_mut
    - label_mc_mut
    label_domain_dijet:
    - label_data_dijet
    - label_mc_dijet
    label_domain_ttcharm:
    - label_data_ttcharm
    - label_mc_ttcharm
  loss_weight:
  - 1.0
  - 1.0
  - 1.0
  - 1.0
  - 1.0
targets:
  type: custom
  value:
    target_pt: np.clip((domain<0)*((label_b) | (label_c) | (label_uds) | (label_g))*np.nan_to_num(jet_genmatch_pt/jet_pt_raw,nan=0,posinf=0,neginf=0)+(label_mu)*((jet_mumatch_pt>0)*np.nan_to_num(jet_genmatch_lep_vis_pt/jet_mumatch_pt,nan=0,posinf=0,neginf=0)+(jet_mumatch_pt<=0)*np.nan_to_num(jet_genmatch_lep_vis_pt/jet_pt_raw,nan=0,posinf=0,neginf=0))+(label_el)*((jet_elematch_pt>0)*np.nan_to_num(jet_genmatch_lep_vis_pt/jet_elematch_pt,nan=0,posinf=0,neginf=0)+(jet_elematch_pt<=0)*np.nan_to_num(jet_genmatch_lep_vis_pt/jet_pt_raw,nan=0,posinf=0,neginf=0))+((label_taup_1h0p)
      | (label_taup_1h1p) |(label_taup_1h2p) | (label_taup_3h0p) | (label_taup_3h1p)
      | (label_taum_1h0p) | (label_taum_1h1p) | (label_taum_1h2p) | (label_taum_3h0p)
      | (label_taum_3h1p))*((jet_taumatch_pt>0)*np.nan_to_num(jet_genmatch_lep_vis_pt/jet_taumatch_pt,nan=0,posinf=0,neginf=0)+(jet_taumatch_pt<=0)*np.nan_to_num(jet_genmatch_lep_vis_pt/jet_pt_raw,nan=0,posinf=0,neginf=0))+(domain>=0),0.3,2)
    target_pt_q16: np.clip((domain<0)*((label_b) | (label_c) | (label_uds) | (label_g))*np.nan_to_num(jet_genmatch_pt/jet_pt_raw,nan=0,posinf=0,neginf=0)+(label_mu)*((jet_mumatch_pt>0)*np.nan_to_num(jet_genmatch_lep_vis_pt/jet_mumatch_pt,nan=0,posinf=0,neginf=0)+(jet_mumatch_pt<=0)*np.nan_to_num(jet_genmatch_lep_vis_pt/jet_pt_raw,nan=0,posinf=0,neginf=0))+(label_el)*((jet_elematch_pt>0)*np.nan_to_num(jet_genmatch_lep_vis_pt/jet_elematch_pt,nan=0,posinf=0,neginf=0)+(jet_elematch_pt<=0)*np.nan_to_num(jet_genmatch_lep_vis_pt/jet_pt_raw,nan=0,posinf=0,neginf=0))+((label_taup_1h0p)
      | (label_taup_1h1p) |(label_taup_1h2p) | (label_taup_3h0p) | (label_taup_3h1p)
      | (label_taum_1h0p) | (label_taum_1h1p) | (label_taum_1h2p) | (label_taum_3h0p)
      | (label_taum_3h1p))*((jet_taumatch_pt>0)*np.nan_to_num(jet_genmatch_lep_vis_pt/jet_taumatch_pt,nan=0,posinf=0,neginf=0)+(jet_taumatch_pt<=0)*np.nan_to_num(jet_genmatch_lep_vis_pt/jet_pt_raw,nan=0,posinf=0,neginf=0))+(domain>=0),0.3,2)
    target_pt_q84: np.clip((domain<0)*((label_b) | (label_c) | (label_uds) | (label_g))*np.nan_to_num(jet_genmatch_pt/jet_pt_raw,nan=0,posinf=0,neginf=0)+(label_mu)*((jet_mumatch_pt>0)*np.nan_to_num(jet_genmatch_lep_vis_pt/jet_mumatch_pt,nan=0,posinf=0,neginf=0)+(jet_mumatch_pt<=0)*np.nan_to_num(jet_genmatch_lep_vis_pt/jet_pt_raw,nan=0,posinf=0,neginf=0))+(label_el)*((jet_elematch_pt>0)*np.nan_to_num(jet_genmatch_lep_vis_pt/jet_elematch_pt,nan=0,posinf=0,neginf=0)+(jet_elematch_pt<=0)*np.nan_to_num(jet_genmatch_lep_vis_pt/jet_pt_raw,nan=0,posinf=0,neginf=0))+((label_taup_1h0p)
      | (label_taup_1h1p) |(label_taup_1h2p) | (label_taup_3h0p) | (label_taup_3h1p)
      | (label_taum_1h0p) | (label_taum_1h1p) | (label_taum_1h2p) | (label_taum_3h0p)
      | (label_taum_3h1p))*((jet_taumatch_pt>0)*np.nan_to_num(jet_genmatch_lep_vis_pt/jet_taumatch_pt,nan=0,posinf=0,neginf=0)+(jet_taumatch_pt<=0)*np.nan_to_num(jet_genmatch_lep_vis_pt/jet_pt_raw,nan=0,posinf=0,neginf=0))+(domain>=0),0.3,2)
    target_pt_nu: ((domain<0)*(((label_b) | (label_c) | (label_uds) | (label_g))*np.clip(np.nan_to_num(jet_genmatch_wnu_pt/jet_genmatch_pt,nan=0,posinf=0,neginf=0),0.9,2)+((label_mu)
      | (label_el))*np.clip(np.nan_to_num(jet_genmatch_lep_pt/jet_genmatch_lep_vis_pt,nan=0,posinf=0,neginf=0),0.9,2.0)+((label_taup_1h1p)
      | (label_taup_1h2p) | (label_taup_3h0p) | (label_taup_3h1p) | (label_taum_1h0p)
      | (label_taum_1h1p) | (label_taum_1h2p) | (label_taum_3h0p) | (label_taum_3h1p))*np.clip(np.nan_to_num(jet_genmatch_lep_pt/jet_genmatch_lep_vis_pt,nan=0,posinf=0,neginf=0),0.9,5.0))+(domain>=0))
  quantile:
  - -1
  - 0.16
  - 0.84
  - -1
observers:
- event
- rho
- npv
- wgt
- met
- npu
- sample
- domain
- isdata
- jet_pt
- jet_pt_raw
- jet_eta
- jet_phi
- jet_mass
- jet_ncand
- jet_nel
- jet_nmu
- jet_elf
- jet_muf
- jet_hflav
- jet_pflav
- jet_nbhad
- jet_nchad
- jet_muflav
- jet_elflav
- jet_tauflav
- jet_taudecaymode
- jet_taucharge
- jet_lepflav
- jet_genmatch_pt
- jet_genmatch_eta
- jet_genmatch_phi
- jet_genmatch_mass
- jet_genmatch_wnu_pt
- jet_genmatch_wnu_eta
- jet_genmatch_wnu_phi
- jet_genmatch_wnu_mass
- jet_genmatch_lep_pt
- jet_genmatch_lep_eta
- jet_genmatch_lep_phi
- jet_genmatch_lep_mass
- jet_genmatch_lep_vis_pt
- jet_genmatch_lep_vis_eta
- jet_genmatch_lep_vis_phi
- jet_genmatch_lep_vis_mass
- jet_pnetlast_probb
- jet_pnetlast_probc
- jet_pnetlast_probuds
- jet_pnetlast_probg
- jet_pnetlast_probmu
- jet_pnetlast_probele
- jet_pnetlast_probtaup1h0p
- jet_pnetlast_probtaup1h1p
- jet_pnetlast_probtaup1h2p
- jet_pnetlast_probtaup3h0p
- jet_pnetlast_probtaup3h1p
- jet_pnetlast_probtaum1h0p
- jet_pnetlast_probtaum1h1p
- jet_pnetlast_probtaum1h2p
- jet_pnetlast_probtaum3h0p
- jet_pnetlast_probtaum3h1p
- jet_pnetlast_ptcorr
- jet_parTlast_probb
- jet_parTlast_probc
- jet_parTlast_probuds
- jet_parTlast_probg
- jet_parTlast_probmu
- jet_parTlast_probele
- jet_parTlast_probtaup1h0p
- jet_parTlast_probtaup1h1p
- jet_parTlast_probtaup1h2p
- jet_parTlast_probtaup3h0p
- jet_parTlast_probtaup3h1p
- jet_parTlast_probtaum1h0p
- jet_parTlast_probtaum1h1p
- jet_parTlast_probtaum1h2p
- jet_parTlast_probtaum3h0p
- jet_parTlast_probtaum3h1p
- jet_parTlast_ptcorr
- jet_taumatch_pt
- jet_taumatch_eta
- jet_taumatch_phi
- jet_taumatch_mass
- jet_taumatch_decaymode
- jet_taumatch_charge
- jet_taumatch_idjet
- jet_taumatch_idmu
- jet_taumatch_idele
- jet_taumatch_dxy
- jet_taumatch_dz
- jet_mumatch_pt
- jet_mumatch_eta
- jet_mumatch_phi
- jet_mumatch_id
- jet_mumatch_iso
- jet_elematch_pt
- jet_elematch_eta
- jet_elematch_phi
- jet_elematch_idscore
monitor_variables: null
weights:
  use_precomputed_weights: false
  reweight_method: flat
  reweight_vars:
    jet_pt_raw:
    - 15
    - 20
    - 25
    - 30
    - 38
    - 48
    - 60
    - 76
    - 97
    - 122
    - 154
    - 195
    - 246
    - 311
    - 393
    - 496
    - 627
    - 792
    - 1000
    - 3000
    jet_eta:
    - -2.5
    - -2.0
    - -1.5
    - -1.0
    - -0.5
    - 0.0
    - 0.5
    - 1.0
    - 1.5
    - 2.0
    - 2.5
  reweight_classes:
  - label_mu
  - label_el
  - label_taup_1h0p
  - label_taup_1h1p
  - label_taup_1h2p
  - label_taup_3h0p
  - label_taup_3h1p
  - label_taum_1h0p
  - label_taum_1h1p
  - label_taum_1h2p
  - label_taum_3h0p
  - label_taum_3h1p
  - label_b
  - label_c
  - label_uds
  - label_g
  class_weights:
  - 1.0
  - 1.0
  - 0.15
  - 0.3
  - 0.12
  - 0.12
  - 0.06
  - 0.15
  - 0.3
  - 0.12
  - 0.12
  - 0.06
  - 1.5
  - 2.0
  - 3.0
  - 5.0
  reweight_threshold: 15
  reweight_hists: null
  domain_classes:
  - label_mc_zll
  - label_mc_emu
  - label_mc_mut
  - label_mc_dijet
  - label_mc_ttcharm
  - label_data_zll
  - label_data_emu
  - label_data_mut
  - label_data_dijet
  - label_data_ttcharm
  domain_weights:
  - 2
  - 2
  - 3
  - 2
  - 2
  - 3
  - 7
  - 12
  - 4
  - 16
